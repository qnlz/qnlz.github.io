<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		*{margin: 0; padding: 0;}
		body{ padding-top: 0;}
		nav{ position: fixed; top: 80px; right: 0; width:40px; line-height: 20px; background: #ccc;}
		nav a{ display: block; padding: 10px 0; text-align: center; color: #666;}
		nav a.active{ color: red;}
	</style>
</head>
<body>
	<nav>
		<a href="javascript:;" class="active">1楼</a>
		<a href="javascript:;">2楼</a>
		<a href="javascript:;">3楼</a>
		<a href="javascript:;">4楼</a>
		<a href="javascript:;">5楼</a>
	</nav>
	<section>
		<h2>1楼</h2>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
	</section>
	<section>
		<h2>2楼</h2>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
	</section>
	<section>
		<h2>3楼</h2>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
	</section>
	<section>
		<h2>4楼</h2>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
	</section>
	<section>
		<h2>5楼</h2>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
	</section>
	<script src="http://doc.ui.sh.ctriptravel.com/mysftp/based-business-documents/js/jquery-1.11.1.min.js"></script>
	<script>
        (function($){

        	// 获取top值
        	function getTop($el){
        		return $el.offset().top;
        	}

        	// 更新top值
        	function updataTop($el){
        		$el.attr("data-offset-top",getTop($el) - defaultTop);
        	}

        	// 切换状态
        	function changeNavState($el, className){
        		$el.addClass(className).siblings().removeClass(className);
        	}

        	function scrollTo(value, time){
        		var time = time || 300;
        		$("body,html").animate({
            		scrollTop: value
            	}, time);
        	}

        	var $sectionList = $("section"),
        		$sectionListLenght = $sectionList.length,	// 楼层个数
        		$navList = $("nav a");

        	var defaultTop = 0,
        		navLighthighClass = "active";

        	// 给每个楼层赋offset-top值
        	$sectionList.each(function(i,el){
        		updataTop($(this));
        	})

        	// 滚动监听
            $(window).on("scroll",function(e){

             	var $this = $(this),
             		t = $this.scrollTop(),	// 获取距离顶部值
             		i;

             	// console.log(t);
             	
             	if( t > defaultTop){
             		for(i = 0; i < $sectionListLenght; i++){

	             		if(i !== ($sectionListLenght - 1)){
	             			if(t >= parseInt($sectionList.eq(i).attr("data-offset-top"),10) && t < parseInt($sectionList.eq(i+1).attr("data-offset-top"),10)){
	             				changeNavState($navList.eq(i),navLighthighClass);
	             			}
	             		}else{
	             			if(t >= parseInt($sectionList.eq(i).attr("data-offset-top"),10)){
	             				changeNavState($navList.eq(i),navLighthighClass);
	             			}
	             		}

	             	}
	             } 

            })

            $navList.on("click",function(e){
            	var $this = $(this),
            		index = $navList.index($this);	// 索引值

            	// console.log(index);
            	
            	scrollTo(parseInt($sectionList.eq(index).attr("data-offset-top"),10))

            })

        }(jQuery));
	</script>
</body>
</html>